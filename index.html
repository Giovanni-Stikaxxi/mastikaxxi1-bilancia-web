<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Bilancia Remota</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
  }
  .card {
    background: white;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  h2 { margin-top: 0 }
</style>
</head>
<body>

<h1>ğŸ“Š Bilancia Remota</h1>

<div class="card">
  <h2>ğŸ“¡ Stato Connessione</h2>
  <p><strong>Wiâ€‘Fi:</strong> <span id="wifiName">---</span></p>
  <p><strong>Ultimo invio:</strong> <span id="lastSend">---</span></p>
</div>

<div class="card">
  <h2>âš–ï¸ Ultimo Peso</h2>
  <p><strong>Peso:</strong> <span id="peso">---</span> g</p>
</div>

<div class="card">
  <h2>ğŸ“ˆ Grafico Peso</h2>
  <iframe width="100%" height="400" src="https://thingspeak.com/channels/3171602/charts/1?bgcolor=%23ffffff&color=%2300aaff&dynamic=true&results=60&type=line"></iframe>
</div>

<script>
const url = "https://api.thingspeak.com/channels/3171602/feeds.json?results=1";

fetch(url)
  .then(r => r.json())
  .then(data => {
    const feed = data.feeds[0];

    document.getElementById("peso").innerText = feed.field1;
    document.getElementById("wifiName").innerText = feed.field3;
    document.getElementById("lastSend").innerText = feed.field4;
  });
</script>

</body>
</html>
